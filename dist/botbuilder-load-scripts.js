var Fs,Path;Path=require("path");Fs=require("fs");module.exports=function(bot){var load,loadFile,loadScript;load=function(path){console.log("Loading scripts from "+path);return Fs.readdirSync(path).sort().forEach(function(file){return loadFile(path,file)})};loadFile=function(path,file){var absfull,ext,full,script;ext=Path.extname(file);if(require.extensions[ext]){full=Path.join(path,Path.basename(file,ext));absfull=Path.resolve(full);script=require(absfull);return loadScript(script)}};loadScript=function(script){if(typeof script==="function"){return script(bot)}};bot.load=function(){return load.apply(bot,arguments)};bot.loadFile=function(){return loadFile.apply(bot,arguments)};bot.loadScript=function(){return loadScript.apply(bot,arguments)};return bot};